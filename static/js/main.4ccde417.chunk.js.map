{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/InputForm.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","Footer","Date","getFullYear","CurrentUserContext","React","createContext","Card","props","card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onClick","onCardDelete","onDeleteClick","src","link","alt","name","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","isLoading","cards","map","item","onCardClick","PopupWithForm","children","useState","buttonState","setButtonState","formRef","useRef","useEffect","escClose","isOpen","current","checkValidity","Array","from","every","input","value","trim","onButtonActive","overlayClose","ref","onSubmit","noValidate","onClose","title","button","isLoad","isButtonActive","disabled","buttonTitle","InputForm","error","setError","onChange","e","target","validationMessage","id","minLength","maxLength","placeholder","required","EditProfilePopup","setName","description","setDescription","preventDefault","onUpdateUser","ImagePopup","EditAvatarPopup","setAvatar","onUpdateAvatar","AddPlacePopup","setLink","xName","DeletePopup","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","newName","newAbout","method","body","JSON","stringify","cardId","imageUrl","addLike","removeLike","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","isPopupWithImageOpen","setIsPopupWithImageOpen","setCurrentUser","setCards","loading","setLoading","buttonSave","setButtonSave","buttonAdd","setButtonAdd","buttonDelete","setButtonDelete","isButtonEdditProfile","setIsButtonEdditProfile","isButtonAddPlace","setIsButtonAddPlace","isButtonAvatar","setIsButtonAvatar","handleButton","setState","closeAllPopups","document","removeEventListener","evt","key","handleEscClose","addEventListener","handleOverlayClose","classList","contains","getUserInfo","data","catch","err","console","log","getInitialCards","Provider","changeLikeCardStatus","newCard","state","c","setUserInfo","addCard","updateAvatarImage","deleteCard","newCards","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4ccde417.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\"></div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 - {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nfunction Card(props) {\r\n\r\n  const card = props.card;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n\r\n  const cardDeleteButtonClassName = (`gallery__button-delete ${isOwn ? '' : 'gallery__button-delete_hidden'}`);\r\n  const cardLikeButtonClassName = (`gallery__button ${isLiked && 'gallery__button_like'}`);\r\n\r\n  function handleClick() {\r\n    props.onClick(card)\r\n  }\r\n  function handleLikeClick() {\r\n    props.onCardLike(card)\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(card);\r\n    props.onDeleteClick();\r\n  }\r\n\r\n  return (\r\n    <article className=\"gallery__card\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <img className=\"gallery__image\" src={card.link} alt={card.name} onClick={handleClick} />\r\n      <div className=\"gallery__wrapper\">\r\n        <h2 className=\"gallery__name\">{card.name}</h2>\r\n        <div className=\"gallery__button-wrapper\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\r\n          <span className=\"gallery__button-counter\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__avatar-container\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Avatar\" />\r\n            <button className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\r\n          </div>\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <p className=\"profile__job\">{currentUser.about}</p>\r\n          <button className=\"profile__button-edit\" type=\"button\" onClick={props.onEditProfile}></button>\r\n        </div>\r\n        <button className=\"profile__button-add\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section>\r\n        <div className={`${props.isLoading && 'loading'}`}></div>\r\n        <div className=\"gallery\">\r\n          {props.cards.map((item) => (\r\n            <Card key={item._id}\r\n              onCardDelete={props.onCardDelete}\r\n              onCardLike={props.onCardLike}\r\n              card={item}\r\n              onClick={props.onCardClick}\r\n              onDeleteClick={props.onDeleteClick} />\r\n          ))}\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  const children = props.children;\r\n  const [buttonState, setButtonState] = React.useState(true);\r\n  const formRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  React.useEffect(() => {\r\n    if (formRef.current && formRef.current.checkValidity() && Array.from(children).every((input) => input.props.value.trim() !== '')) {\r\n      setButtonState(false);\r\n      props.onButtonActive(false);\r\n    } else {\r\n      setButtonState(true);\r\n      props.onButtonActive(true);\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}>\r\n      <form ref={formRef} className={`popup__container popup__container_form popup__${props.name}-form`} name={`popup_${props.name}`} onSubmit={props.onSubmit} noValidate>\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose} ></button>\r\n        <h2 className={`popup__title popup__title-${props.name}`}>{props.title}</h2>\r\n        {children}\r\n        <button className={`popup__submit ${props.button.isLoad && 'popup__submit_loading'} ${props.isButtonActive && 'popup__button_invalid'}`} type=\"submit\" disabled={buttonState}>\r\n          {props.button.buttonTitle}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction InputForm(props) {\r\n\r\n  const [error, setError] = React.useState('');\r\n\r\n\r\n\r\n  function handleChange(e) {\r\n    props.onChange(e);\r\n    if (e.target.value.trim().length < 2 && e.target.validationMessage === '') {\r\n      setError('Слово должно содержать как минимум 2 символа помимо пробелов.');\r\n\r\n    } else {\r\n      setError(e.target.validationMessage);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpen) { setError('') }\r\n  }, [props.isOpen])\r\n  return (\r\n    <>\r\n      <input ref={props.ref} value={props.value} onChange={handleChange} className={props.className} id={props.id} type={props.type} minLength={props.minLength} maxLength={props.maxLength} placeholder={props.placeholder} name={props.name} required/>\r\n      <span className=\"popup__error\">{error}</span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InputForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputForm from './InputForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name.trim(),\r\n      about: description.trim(),\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      button={props.buttonTitle}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      escClose={props.escClose}\r\n      overlayClose={props.overlayClose}\r\n      onSubmit={handleSubmit}\r\n      isButtonActive={props.isButtonActive}\r\n      onButtonActive={props.onButtonActive}>\r\n      <InputForm\r\n        value={name}\r\n        onChange={handleName}\r\n        className=\"popup__name popup__input popup_profile_name\"\r\n        id=\"name-card-profile\"\r\n        type=\"text\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Имя\"\r\n        name=\"input_name_profile\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n      <InputForm\r\n        value={description}\r\n        onChange={handleDescription}\r\n        className=\"popup__job popup__input popup_profile_job\"\r\n        id=\"job-card\"\r\n        type=\"text\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        placeholder=\"Профессия\"\r\n        name=\"input_job_profile\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  return (\r\n    <div className={`popup popup_fullsize_wrapper ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}>\r\n      <form className=\"popup__container popup__fullsize\" name=\"popup_fullsize\"  >\r\n        <button className=\"popup__close popup__close-fullsize\" type=\"button\" onClick={props.onClose}></button>\r\n        <img className=\"popup__image-fullsize\" src={props.card.link} alt={props.card.name} />\r\n        <h2 className=\"popup__title popup__title-fullsize\">{props.card.name}</h2>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputForm from './InputForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const [avatar, setAvatar] = React.useState('');\r\n\r\n  function handleAvatar(e) {\r\n    setAvatar(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatar\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"save_avatar\"\r\n      title=\"Обновить аватар\"\r\n      button={props.buttonTitle}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      escClose={props.escClose}\r\n      overlayClose={props.overlayClose}\r\n      onSubmit={handleSubmit}\r\n      isButtonActive={props.isButtonActive}\r\n      onButtonActive={props.onButtonActive}>\r\n      <InputForm\r\n        value={avatar}\r\n        onChange={handleAvatar}\r\n        className=\"popup__job popup__link popup__input\"\r\n        id=\"link-avatar\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка для картинки\"\r\n        name=\"input_link_profile\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport InputForm from './InputForm';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: name.trim(),\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [props.isOpen])\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"gallery\"\r\n      title=\"Новая карточка\"\r\n      button={props.buttonTitle}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      escClose={props.escClose}\r\n      overlayClose={props.overlayClose}\r\n      onSubmit={handleSubmit}\r\n      isButtonActive={props.isButtonActive}\r\n      onButtonActive={props.onButtonActive}>\r\n      <InputForm\r\n        value={name}\r\n        onChange={handleName}\r\n        className=\"popup__name popup__name_gallery popup__input\"\r\n        id=\"name-card\"\r\n        type=\"text\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        placeholder=\"Название карточки\"\r\n        name=\"input_name_gallery\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n      <InputForm\r\n        value={link}\r\n        onChange={handleLink}\r\n        className=\"popup__job popup__link popup__input\"\r\n        id=\"link-card\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка для картинки\"\r\n        name=\"input_link_gallery\"\r\n        isOpen={props.isOpen}\r\n        xName={link}>\r\n      </InputForm>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction DeletePopup(props) {\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onCardDelete(props.card);\r\n    props.onClose();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  return (\r\n    <div className={`popup popup_delete_card ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}> \r\n<form className=\"popup__container popup__container_form popup__delete-form\" name=\"popup_delete\" noValidate> \r\n    <button className=\"popup__close popup__close_delete\" type=\"button\"  onClick={props.onClose}></button> \r\n    <h2 className=\"popup__title popup__title-delete\">Вы уверены?</h2> \r\n    <button className={`popup__submit popup__submit_delete ${props.buttonTitle.isLoad && 'popup__submit_loading'}`} type=\"button\" onClick={handleSubmit}>{props.buttonTitle.buttonTitle}</button> \r\n</form> \r\n</div> \r\n  );\r\n}\r\n\r\nexport default DeletePopup;\r\n\r\n\r\n","class Api {\r\n  constructor(options) {\r\n    this.baseUrl = options.baseUrl;\r\n    this.headers = options.headers;\r\n  }\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfo(newName, newAbout) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: newName,\r\n        about: newAbout\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n\r\n  }\r\n  deleteCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  updateAvatarImage(imageUrl) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: imageUrl\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  addLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this.headers,\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  removeLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this.addLike(cardId)\r\n    } else {\r\n      return this.removeLike(cardId)\r\n    }\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20',\r\n  headers: {\r\n    authorization: 'cb025162-3fd1-4801-ae0e-3ba5aa323c64',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});","import Header from './Header';\r\nimport Footer from './Footer';\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletePopup from './DeletePopup';\r\nimport { api } from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({ link: '' });\r\n  const [isPopupWithImageOpen, setIsPopupWithImageOpen] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '', avatar: '' });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [buttonSave, setButtonSave] = React.useState({ isLoad: true, buttonTitle: 'Сохранить' });\r\n  const [buttonAdd, setButtonAdd] = React.useState({ isLoad: false, buttonTitle: 'Создать' });\r\n  const [buttonDelete, setButtonDelete] = React.useState({ isLoad: false, buttonTitle: 'Да' });\r\n\r\n\r\n  const [isButtonEdditProfile, setIsButtonEdditProfile] = React.useState(false);\r\n  const [isButtonAddPlace, setIsButtonAddPlace] = React.useState(false);\r\n  const [isButtonAvatar, setIsButtonAvatar] = React.useState(false);\r\n\r\n  function handleButton(isLoad, buttonTitle, setState) {\r\n    setState({ isLoad: isLoad, buttonTitle: buttonTitle })\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsDeletePopupOpen(false);\r\n    setIsPopupWithImageOpen(false);\r\n    document.removeEventListener('keydown', escClose);\r\n  }\r\n  function escClose(evt) {\r\n    if (evt.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleEscClose(isOpen) {\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', escClose)\r\n    }\r\n  }\r\n\r\n  function handleOverlayClose(evt) {\r\n    if (evt.target.classList.contains('popup_opened')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    setIsDeletePopupOpen(true);\r\n  }\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsPopupWithImageOpen(true)\r\n  }\r\n\r\n  function handleDeleteCard(card) {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n    setLoading(true);\r\n    api.getInitialCards()\r\n      .then((data) => {\r\n        setCards(data);\r\n        console.log(data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    handleButton(true, 'Удаление...', setButtonDelete)\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter(item => item._id !== card._id);\r\n        handleButton(false, 'Да', setButtonDelete);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    handleButton(true, 'Сохранение...', setButtonSave);\r\n    api.setUserInfo(name, about)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        handleButton(false, 'Сохранить', setButtonSave);\r\n        closeAllPopups();\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    handleButton(true, 'Сохранение...', setButtonSave);\r\n    api.updateAvatarImage(avatar)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        handleButton(false, 'Сохранить', setButtonSave);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleAddPlace({ name, link }) {\r\n    handleButton(true, 'Создание...', setButtonAdd);\r\n    api.addCard(name, link)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        handleButton(false, 'Создать', setButtonAdd);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header />\r\n      <Main\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onEditProfile={handleEditProfileClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onCardClick={handleCardClick}\r\n        onDeleteClick={handleDeleteClick}\r\n        cards={cards}\r\n        onCardLike={handleCardLike}\r\n        onCardDelete={handleDeleteCard}\r\n        isLoading={loading} />\r\n      <Footer />\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onUpdateUser={handleUpdateUser}\r\n        buttonTitle={buttonSave}\r\n        isButtonActive={isButtonEdditProfile}\r\n        onButtonActive={setIsButtonEdditProfile} />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onAddPlace={handleAddPlace}\r\n        buttonTitle={buttonAdd}\r\n        isButtonActive={isButtonAddPlace}\r\n        onButtonActive={setIsButtonAddPlace} />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        buttonTitle={buttonSave}\r\n        isButtonActive={isButtonAvatar}\r\n        onButtonActive={setIsButtonAvatar} />\r\n      <DeletePopup\r\n        card={selectedCard}\r\n        isOpen={isDeletePopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onCardDelete={handleCardDelete}\r\n        buttonTitle={buttonDelete} />\r\n      <ImagePopup\r\n        isOpen={isPopupWithImageOpen}\r\n        card={selectedCard}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose} />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}